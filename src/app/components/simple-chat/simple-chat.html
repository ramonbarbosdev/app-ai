<div class="flex flex-col h-[600px] w-full max-w-3xl mx-auto
            bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl overflow-hidden">


    <!-- HEADER -->
    <div class="px-4 py-3 border-b border-zinc-800">

        <h2 class="text-sm font-semibold text-zinc-200">
            Chat AI
        </h2>

    </div>



    <!-- MESSAGES -->
    <div #scrollContainer
         class="flex-1 overflow-y-auto px-6 py-6 space-y-6">


        <div *ngFor="let msg of messages()"
             class="flex gap-3 items-end"
             [class.justify-end]="!msg.isBot"
             [class.justify-start]="msg.isBot">


            <!-- BOT -->
            <div *ngIf="msg.isBot"
                 class="w-8 h-8 rounded-full bg-emerald-500
                        flex items-center justify-center
                        text-xs font-bold text-white">

                AI

            </div>



            <!-- MESSAGE -->
            <div class="px-4 py-3 rounded-2xl max-w-[70%]
                        text-sm shadow-md"

                 [ngClass]="{

                    'bg-zinc-800 text-zinc-100 border border-zinc-700':
                        msg.isBot,

                    'bg-emerald-500 text-white':
                        !msg.isBot

                 }">

                {{ msg.text }}

            </div>



            <!-- USER -->
            <div *ngIf="!msg.isBot"
                 class="w-8 h-8 rounded-full bg-zinc-700
                        flex items-center justify-center
                        text-xs font-bold text-white">

                YOU

            </div>


        </div>



        <!-- LOADING -->
        <div *ngIf="loading()" class="flex gap-3 items-center">

            <div class="w-8 h-8 rounded-full bg-emerald-500
                        flex items-center justify-center
                        text-xs font-bold text-white">

                AI

            </div>


            <div class="px-4 py-3 rounded-2xl bg-zinc-800 border border-zinc-700">

                <div class="flex gap-1">

                    <div class="w-2 h-2 bg-zinc-400 rounded-full animate-bounce"></div>
                    <div class="w-2 h-2 bg-zinc-400 rounded-full animate-bounce delay-150"></div>
                    <div class="w-2 h-2 bg-zinc-400 rounded-full animate-bounce delay-300"></div>

                </div>

            </div>

        </div>


    </div>



    <!-- INPUT -->
    <div class="p-4 border-t border-zinc-800">

        <div class="flex items-center gap-3 bg-zinc-800 border border-zinc-700
                    rounded-xl px-3 py-2 focus-within:border-emerald-500">


            <textarea
                rows="1"
                [value]="input()"
                (input)="input.set($any($event.target).value)"
                (keydown.enter)="onEnter($event)"
                placeholder="Digite sua mensagem..."
                class="flex-1 resize-none bg-transparent outline-none
                       text-zinc-100 placeholder-zinc-400 text-sm
                       max-h-40 overflow-y-auto">
            </textarea>


            <button
                (click)="send()"
                [disabled]="loading()"
                class="w-10 h-10 rounded-lg bg-emerald-500
                       hover:bg-emerald-600
                       disabled:opacity-50
                       flex items-center justify-center">

                â†’
                
            </button>


        </div>

    </div>


</div>
